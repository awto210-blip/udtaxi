# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –£–î–ê–ß–ê TAXI

## –ó–∞ 5 –º–∏–Ω—É—Ç –¥–æ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞!

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd /home/user/webapp
npm install
```

### –®–∞–≥ 2: –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
npm run build
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –û—á–∏—Å—Ç–∫–∞ –ø–æ—Ä—Ç–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
npm run clean-port

# –ó–∞–ø—É—Å–∫ —Å PM2
pm2 start ecosystem.config.cjs

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
pm2 logs udacha-taxi --nostream
```

### –®–∞–≥ 4: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–í–ê–ñ–ù–û**: –í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç —à–∞–≥ –æ–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞!

```bash
curl -X POST http://localhost:3000/api/admin/init-db
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```json
{
  "success": true,
  "message": "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞"
}
```

### –®–∞–≥ 5: –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: **http://localhost:3000**

### –®–∞–≥ 6: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å

1. –ù–∞–∂–º–∏—Ç–µ **"–Ø –ø–∞—Å—Å–∞–∂–∏—Ä"** –∏–ª–∏ **"–Ø –≤–æ–¥–∏—Ç–µ–ª—å"**
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
3. –í—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–π–¥—ë—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:
- –°–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–∫–∞–∑—ã (–µ—Å–ª–∏ –≤—ã –ø–∞—Å—Å–∞–∂–∏—Ä)
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–∫–∞–∑—ã (–µ—Å–ª–∏ –≤—ã –≤–æ–¥–∏—Ç–µ–ª—å)
- –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–∑–µ–π –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–º—É –∫–æ–¥—É
- –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å
pm2 stop udacha-taxi

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
pm2 restart udacha-taxi

# –£–¥–∞–ª–∏—Ç—å –∏–∑ PM2
pm2 delete udacha-taxi

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É API
curl http://localhost:3000/api/info

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
pm2 logs udacha-taxi --nostream

# –û—á–∏—Å—Ç–∏—Ç—å –ø–æ—Ä—Ç 3000
npm run clean-port

# –°–±—Ä–æ—Å–∏—Ç—å –ë–î (—É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ!)
rm -rf .wrangler/state/v3/d1
# –ó–∞—Ç–µ–º –∑–∞–Ω–æ–≤–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ë–î (—à–∞–≥ 4)
```

## üì± PWA —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

**–ù–∞ Android/Chrome**:
1. –ù–∞–∂–º–∏—Ç–µ –º–µ–Ω—é (‚ãÆ)
2. –í—ã–±–µ—Ä–∏—Ç–µ "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É

**–ù–∞ iOS/Safari**:
1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" 
2. –í—ã–±–µ—Ä–∏—Ç–µ "–ù–∞ —ç–∫—Ä–∞–Ω ¬´–î–æ–º–æ–π¬ª"
3. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å"

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

### –ü–æ—Ä—Ç 3000 –∑–∞–Ω—è—Ç
```bash
npm run clean-port
pm2 restart udacha-taxi
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
```bash
curl -X POST http://localhost:3000/api/admin/init-db
```

### –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
pm2 delete udacha-taxi
npm run build
pm2 start ecosystem.config.cjs
```

### –û—à–∏–±–∫–∞ "Cannot find module"
```bash
npm install
npm run build
```

## üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
curl -X POST http://localhost:3000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "user@test.ru",
    "phone": "+79001234567",
    "password": "password123",
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "role": "passenger"
  }'
```

### –í—Ö–æ–¥
```bash
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "user@test.ru",
    "password": "password123"
  }'
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```bash
curl http://localhost:3000/api/admin/stats
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ API –∫–ª—é—á–∏** (—Å–º. `config.example.ts`)
   - –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã API
   - –ÆKassa shopId –∏ secretKey
   - JWT secret

2. **–ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–π—Ç–µ –±—Ä–µ–Ω–¥–∏–Ω–≥**
   - –õ–æ–≥–æ—Ç–∏–ø—ã –≤ `/public/static/icons/`
   - –¶–≤–µ—Ç–∞ –≤ Tailwind CSS
   - –¢–µ–∫—Å—Ç—ã –≤ `/src/index.tsx`

3. **–î–µ–ø–ª–æ–π –Ω–∞ Cloudflare Pages**
   - –°–º. —Ä–∞–∑–¥–µ–ª –≤ README.md

---

**–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?** –ß–∏—Ç–∞–π—Ç–µ –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ README.md
